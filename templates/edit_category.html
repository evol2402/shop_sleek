{% include 'header.html' %}

<div class="container" style="margin-top:10rem; max-width: 600px; padding: 20px; border: 1px solid #e3e3e3; border-radius: 8px; background-color: #f5f7fa;">
    <h2 style="text-align: center; margin-bottom: 20px; font-size: 1.5rem; color: #4e5d6e;">Edit Category</h2>

    <!-- Display messages (e.g., success or error) -->
    {% with messages = get_flashed_messages(with_categories=True) %}
        {% if messages %}
            <div class="container my-3">
                {% for category, message in messages %}
                    <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert" style="border-radius: 10px; background-color: {{ 'rgba(100, 175, 100, 0.1)' if category == 'success' else 'rgba(232, 73, 73, 0.1)' }}; color: {{ 'green' if category == 'success' else 'red' }}; padding: 15px;">
                        <strong>{% if category == 'success' %}Success!{% elif category == 'danger' %}Error!{% else %}Notice!{% endif %}</strong> {{ message }}
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close" style="font-size: 1.5rem; padding: 0 10px;">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                {% endfor %}
            </div>
        {% endif %}
    {% endwith %}

    <!-- Form to edit category -->
    <form method="POST" action="{{ url_for('edit_category', category_id=category.id) }}" style="display: flex; flex-direction: column; align-items: center;">
        {{ form.hidden_tag() }}

     <div class="custom-product-form-group" style="width: 100%; margin-bottom: 15px;">
    <!-- Category Name Label and Input Field -->
    <div class="custom-product-field" style="display: flex; flex-direction: column; gap: 3px; margin-bottom: 8px;">
        {{ form.category_name.label(class="custom-product-label", style="font-size: 1.1rem; color: #6c757d; margin: 0;") }}
        {{ form.category_name(class="custom-product-input", placeholder="Enter new category name", style="border: 1px solid #ced4da; border-radius: 5px; padding: 10px; width: 100%; font-size: 1rem; background-color: #fff; margin: 0;") }}
    </div>

    <!-- Thumbnail Label and Input Field -->
    <div class="custom-product-field" style="display: flex; flex-direction: column; gap: 3px;">
        {{ form.thumbnail.label(class="custom-product-label", style="font-size: 1.1rem; color: #6c757d; margin: 0;") }}
        {{ form.thumbnail(class="custom-product-input", placeholder="Enter thumbnail URL", style="border: 1px solid #ced4da; border-radius: 5px; padding: 10px; width: 100%; font-size: 1rem; background-color: #fff; margin: 0;") }}
    </div>
</div>


        <button type="submit" class="btn btn-primary" style="width: 100%; padding: 10px 15px; font-size: 1rem; background-color: #5bc0de; border: none; border-radius: 5px; transition: background-color 0.3s;">
            Update Category
        </button>
    </form>

    <hr style="margin: 20px 0; border-color: #ddd;">

    <!-- Link back to the dashboard -->
    <div class="text-center">
        <a href="{{ url_for('admin_dashboard') }}" style="font-size: 1rem; color: #5bc0de; text-decoration: none; font-weight: 600;">Back to Dashboard</a>
    </div>
</div>
